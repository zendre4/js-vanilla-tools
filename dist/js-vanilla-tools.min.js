/**
 * VanillaTools
 *
 * List of convenient function who not necessary jQuery.
 *
 * Thanks to {@link http://youmightnotneedjquery.com}
 *
 * Compatibility IE9+
 * @namespace VanillaTools
 * @author Julien Stalder
 * @version 1.5.0
 * @preserve
 */
var VanillaTools={getJSON:function(e,t,o,s){var n=this.cloneObject(this._getJsonDefaultOptions);if("object"==typeof t)for(var r in t)t.hasOwnProperty(r)&&void 0!==n[r]&&(n[r]=t[r]);n.method=n.method.toUpperCase();var a=this._serializeAjaxParameter((t=n).data),i=("GET"===t.method&&a&&(e.indexOf("?")<0?e+="?"+a:e+="&"+a),new XMLHttpRequest);i.open(t.method,e,t.async),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.onreadystatechange=function(){var e,t;4===this.readyState&&(200===i.status?(e=i,void 0!==o&&(t=e.responseText,""!==e.responseText&&(t=JSON.parse(e.responseText)),o(t))):void 0!==s&&s())},"POST"===t.method&&a?i.send(a):i.send()},cloneObject:function(e){if(null===e||"object"!=typeof e)return e;var t,o=e.constructor();for(t in e)e.hasOwnProperty(t)&&(o[t]=this.cloneObject(e[t]));return o},guid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return e()+e(!0)+e(!0)+e()},forEach:function(e,o){var s=o.length;if(Array.isArray(e))for(var t=0,n=e.length;t<n;t++)a(e[t],t);else if("object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&a(e[r],r);function a(e,t){1===s?o(e):o(t,e)}},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},removeClass:function(e,t){void 0!==t&&t?e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "):e.className=""},toggleClass:function(e,t){if(e.classList)e.classList.toggle(t);else{for(var o=e.className.split(" "),s=-1,n=o.length;n--;)o[n]===t&&(s=n);0<=s?o.splice(s,1):o.push(t),e.className=o.join(" ")}},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},toggleTwoClass:function(e,t,o){var s=t,n=o;this.hasClass(e,o)&&(s=o,n=t),this.removeClass(e,s),this.addClass(e,n)},emptyElement:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},_serializeAjaxParameter:function(e){function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e,t){t="function"==typeof t?t():null==t?"":t,l[l.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}function i(e,t){var o,s,n;if(e)if(r(t))for(o=0,s=t.length;o<s;o++)c.test(e)?a(e,t[o]):i(e+"["+("object"==typeof t[o]?o:"")+"]",t[o]);else if(t&&"[object Object]"===String(t))for(n in t)t.hasOwnProperty(n)&&i(e+"["+n+"]",t[n]);else a(e,t);else if(r(t))for(o=0,s=t.length;o<s;o++)a(t[o].name,t[o].value);else for(n in t)t.hasOwnProperty(n)&&i(n,t[n]);return l}var l=[],c=/\[\]$/;return i("",e).join("&").replace(/%20/g,"+")},getParentElementBySelector:function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;0<=--o&&t.item(o)!==this;);return-1<o});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},_getJsonDefaultOptions:{data:{},method:"POST",async:!0}};